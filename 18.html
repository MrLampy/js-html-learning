<!DOCTYPE html>

<html lang="en">
    <head>
        <title>code #18</title>
        <style>
            .item {
                display: flex;
                align-items: center;
                justify-content: space-between;
                border: 1px solid #ccc;
                padding: 10px;
                margin-top: 10px;
                border-radius: 5px;
                max-width: 500px;
            }
            .del-button{
                padding: 10px;
                background-color: darkred;
                color: white;
                border-radius: 5px;
                border: none;
                font-size: 15px;
                cursor: pointer;
            }
            .submit-button{
                padding: 10px;
                background-color: green;
                color: white;
                border-radius: 5px;
                border: none;
                font-size: 15px;
                cursor: pointer;
                position: relative;
                top: 1px;
            }
            .todo-text {
                word-wrap: break-word;   /* Break long words */
                white-space: normal;     /* Allow wrapping */
                max-width: 60%;          /* Prevent taking full width */
              }
        </style>
    </head>
    <body>

        <h1>
            MeGa ToDO LiSt!
        </h1>
        <input placeholder="WhAt To dO.?.." style="padding: 10px;" onkeydown="enter(event)">
        <input type="date" id="01" style="padding: 9px; position: relative; top: 2px;">
        <button onclick="submit()" class="submit-button">submit</button>
        <div></div>
        
        <script>
            let list = [];
            let long_str = '';

            function render(){
                for(let i = 0;i<list.length;i++){
                    temp = `<div class="item"><p class="todo-text">${Object.keys(list[i])}</p><span>${Object.values(list[i])}</span><button class="del-button" onclick="del(${i})" id="02">Delete</button></div>`
                    long_str += temp;
                }
                document.querySelector("div").innerHTML = long_str;
                document.querySelector("input").value = ''
                long_str = ''
            }
            
            function submit(){
                input = document.querySelector("input").value.trim()
                date = document.getElementById("01").value;
                if (input === '' || date === '') return;

                list.push({[input]: date});
                render();
            }
            
            function enter(event){
                if(event.key === "Enter"){
                    submit();
                }
            }
            function del(i){
                list.splice(i,1)
                render();
            }
        </script>
    </body>
</html>